### 1.2 프로그램은 다른 프로그램에 의해 다른 형태로 번역된다.

GCC 컴파일러 드라이버는 소스파일 hello.c를 읽어서 실행파일인 hello로 4단계에 겨쳐서 번역한다.

- 전처리 단계: 전처리기(cpp)는 본래의 c 프로그램을 #문자로 시작하는 디렉티브에 따라 수정 ex)`#include<stdio.h>`  는 전체러기에서 시스템 헤더파일인 stdio.h를 프로그램 문장에 직접 삽입하라고 지시. 그 결과 .i로 끝나는 새로운 c 프로그램 생성
- 컴파일 단계: 컴파일러(cc1)는 텍스트파일 hello.i를 텍스트파일인 hello.s 로 번역, 어셈블리어 프로그램이 저장
- 어셈블리 단계: 어셈블러가 hello.s 를 기계어 인스트럭션으로 번역하고, 이들을 재배치가능 목적프로그램의 형태로 묶어 hello.o라는 목적파일에 저장. main 함수의 인스트럭션들을 인코딩하기 위한 17바이트를 포함하는 바이너리 파일
- 링크 단계: C 컴파일러에서 제공하는 표준 C 라이브러리에 들어있는 함수의 별도의 목적파일을 hello.o 파일과 결합. ex) printf 함수는 이미 컴파일된 별도의 목적파일인 printf.o에 들어 있으며, 이 파일을 hello.o 파일과 어떤 형태로든 결합되어야 한다. 링커 프로그램이(ld)이 이 통합작업을 수행



### 1.3 컴파일 시스템이 어떻게 동작하는지 이해하는 것은 중요하다.

- 프로그램 성능 최적화하기
- 링크 에러 이해하기
- 보안 약점 -security hole- 피하기
- 

### 1.4 프로세서는 메모리에 저장된 인스트럭션을 읽고 해석한다



#### 1.4.1 시스템의 하드웨어 조직

- 버스
- 입출력 장치
- 메인 메모리
- 프로세서

#### 1.4.2 hello 프로그램의 실행



### 1.5 캐시가 중요하다

자주 액세스할 가능성이 높은 데이터를 캐시가 보관하도록 설정하면 빠른 캐시를 이용해서 대부분의 메모리 작업을 수행할 수 있게 된다.

이 책의 가장 중요한 교훈 중의 하나는 캐시 메모리를 이해하는 응용프로그래머는 캐시를 활용하여 자신의 프로그램 성능을 10배이상 개선할 수 있다는 것이다.



### 1.6 저장장치들은 계층구조를 이룬다.

모든 컴퓨터 시스템의 저장장치들은 메모리 계층구조로 구성되어 있다.

- L0: Regs
- L1: L1 cache (SRAM)
- L2: L2 cache (SRAM)
- L3: L3 cache (SRAM)
- L4: Main memory (DRAM)
- L5: Local secondary storage (local disks)
- L6: Remote secondary storage (distributed file systems, Web servers)



### 1.7 운영체제는 하드웨어를 관리한다.

운영체제의 두가지 주요 목적

1. 제멋대로 동작하는 응용프로그램들이 하드웨어를 잘못 사용하는 것을 막기위해
2. 응용프로그램들이 단순하고 균일한 메커니즘을 사용하여 복잡하고 매우 다른 저수준 하드웨어 장치들을 조작할 수 있도록 하기 위해

#### 1.7.1 프로세스

프로세스는 실행 중인 프로그램에 대한 운영체제의 추상화다.

하나의 프로세스에서 다른 프로세스로의 전환은 운영체제 커널에 의해 관리된다. 커널은 모든 프로세스를 관리하기 위해 시스템이 이용하는 코드와 자료구조의 집합이다.

프로세스 추상화를 구현하기 위해서는 저수준의 하드웨어와 운영체제 소프트웨어가 함께 긴밀하게 협력해야 한다.

#### 1.7.2 쓰레드

각각의 쓰레드는 해당 프로세스의 컨텍스트에서 실행되며 동일한 코드와 전역 데이터를 공유한다.

#### 1.7.3 가상 메모리

가상메모리는 각 프로세스들이 메인 메모리 전체를 독점적으로 사용하고 있는 것 같은 환상을 제공하는 추상화이다.

각 프로세스들에게 보여지는 가상주소공간은 몇 개의 정의된 영역으로 구성되어 있다.

- 프로그램 코드와 데이터
- 힙
- 공유 라이브러리
- 스택
- 커널 가상메모리

#### 1.7.4 파일

파일은 그저 연속된 바이트들이다. 파일 개념은 매우 강력한 것이어서 응용프로그램에 시스템에 들어 있는 다양한 입출력장치들의 통일된 관점을 제공한다.